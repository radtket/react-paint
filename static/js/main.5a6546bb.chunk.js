(this["webpackJsonpreact-paint"]=this["webpackJsonpreact-paint"]||[]).push([[0],{21:function(e,t,r){},22:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),s=r(9),l=r.n(s),i=r(0);var o=e=>{let{canvasRef:t,width:r}=e;const n=r?r/2:0,c=`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%23000000" opacity="0.3" height="${r}" viewBox="0 0 ${r} ${r}" width="${r}"><circle cx="${n}" cy="${n}" r="${n}" fill="%23000000" /></svg>') ${n} ${n}, auto`;return Object(i.jsx)("section",{children:Object(i.jsx)("canvas",{ref:t,style:{cursor:c}})})};var a=()=>Object(i.jsx)("svg",{style:{position:"absolute",top:"-100%",left:"-100%"},version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(i.jsx)("defs",{children:Object(i.jsxs)("filter",{id:"goo",children:[Object(i.jsx)("feGaussianBlur",{in:"SourceGraphic",result:"blur",stdDeviation:"10"}),Object(i.jsx)("feColorMatrix",{in:"blur",mode:"matrix",result:"goo",values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 21 -7"}),Object(i.jsx)("feBlend",{in:"SourceGraphic",in2:"goo",result:"mix"})]})})}),u=r(3),d=r.n(u);var b=e=>{let{init:t,isReady:r}=e;return Object(i.jsx)("header",{className:d()("intro",{hidden:r}),children:Object(i.jsxs)("div",{className:"intro__content",children:[Object(i.jsx)("h1",{children:"Magic Painter"}),Object(i.jsxs)("button",{className:"blob-btn",onClick:t,type:"button",children:[Object(i.jsx)("span",{className:"blob-text",children:"Start painting"}),Object(i.jsx)("span",{className:"blob-btn__inner",children:Object(i.jsxs)("span",{className:"blob-btn__blobs",children:[Object(i.jsx)("span",{className:"blob-btn__blob"}),Object(i.jsx)("span",{className:"blob-btn__blob"}),Object(i.jsx)("span",{className:"blob-btn__blob"}),Object(i.jsx)("span",{className:"blob-btn__blob"})]})})]}),Object(i.jsxs)("p",{children:["Created by ",Object(i.jsx)("strong",{children:"Adrian Bece"})]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("a",{href:"https://codeadrian.hashnode.dev/",rel:"noopener noreferrer",target:"_blank",children:"Hashnode"})," ","|",Object(i.jsx)("a",{href:"https://twitter.com/AdrianBeceDev",rel:"noopener noreferrer",target:"_blank",children:"Twitter"})," ","|",Object(i.jsx)("a",{href:"https://www.buymeacoffee.com/ubnZ8GgDJ",rel:"noopener noreferrer",target:"_blank",children:"Support my work"}),"|",Object(i.jsx)("a",{href:"https://codeadrian.github.io",rel:"noopener noreferrer",target:"_blank",children:"Personal website"})]})]})})},j=r(6),h=r(4);var O=e=>{let{currentColor:t,currentWidth:r}=e;return Object(i.jsxs)("div",{className:"tool-section tool-section--lrg",children:[Object(i.jsx)("small",{children:Object(i.jsx)("strong",{children:"Brush Preview"})}),Object(i.jsx)("div",{className:"preview",children:Object(i.jsx)("div",{className:"preview__brush",style:{backgroundColor:t,width:`${r}px`,height:`${r}px`}})})]})};var x=e=>{let{currentColor:t,currentWidth:r,dateUrl:n,handleClear:c,handleColor:s,handleDownload:l,handleEraserMode:o,handleRegularMode:a,handleSpecialMode:u,handleWidth:b,isAutoWidth:x,isEraser:g,isRegularMode:v,setAutoWidth:m,setCurrentLightness:p,setCurrentSaturation:f}=e;return Object(i.jsxs)("aside",{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)(O,{currentColor:t,currentWidth:r}),Object(i.jsxs)("div",{className:"tool-section tool-section--lrg",children:[Object(i.jsx)("div",{className:"tool-section",children:Object(i.jsx)("small",{children:Object(i.jsx)("strong",{children:"Brush color"})})}),Object(i.jsx)("input",{className:"btn--color",disabled:!v,id:"toolColorPicker",onChange:s,type:"color"})]}),Object(i.jsx)("div",{className:"tool-section",children:Object(i.jsx)("small",{children:Object(i.jsx)("strong",{children:"Tools"})})}),Object(i.jsxs)("div",{className:"tool-grid tool-section tool-section--lrg",children:[Object(i.jsx)("div",{children:Object(i.jsx)("button",{className:d()("btn","btn--tool",{"btn--active":v&&!g}),onClick:a,type:"button",children:Object(i.jsx)(h.a,{icon:j.d})})}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{className:d()("btn","btn--tool",{"btn--dream-active":!v}),onClick:u,type:"button",children:Object(i.jsx)(h.a,{icon:j.c})})}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{className:d()("btn","btn--tool",{"btn--eraser-active":g}),onClick:o,type:"button",children:Object(i.jsx)(h.a,{icon:j.b})})}),Object(i.jsx)("div",{children:Object(i.jsxs)("label",{className:d()("btn","btn--tool",{"btn--width-active":x}),htmlFor:"tool-autowidth",children:[Object(i.jsx)(h.a,{icon:j.a}),Object(i.jsx)("input",{checked:x,disabled:g,id:"tool-autowidth",onChange:m,title:"Dynamic brush size",type:"checkbox"})]})})]}),!x&&Object(i.jsxs)("div",{className:"tool-section tool-section--lrg",children:[Object(i.jsx)("div",{className:"tool-section",children:Object(i.jsx)("small",{children:Object(i.jsx)("strong",{children:"Brush size"})})}),Object(i.jsx)("div",{className:"tool-section",children:Object(i.jsx)("input",{defaultValue:"50",max:"90",min:"10",onChange:b,type:"range"})})]}),!v&&Object(i.jsxs)("div",{className:"tool-section tool-section--lrg",children:[Object(i.jsx)("div",{className:"tool-section",children:Object(i.jsx)("small",{children:Object(i.jsx)("strong",{children:"Magic brush"})})}),Object(i.jsx)("div",{className:"tool-section",children:Object(i.jsxs)("label",{htmlFor:"Saturation",children:[Object(i.jsx)("small",{children:"Saturation"}),Object(i.jsx)("input",{defaultValue:"100",id:"Saturation",max:"100",min:"0",onChange:f,type:"range"})]})}),Object(i.jsxs)("label",{htmlFor:"Lightness",children:["Lightness",Object(i.jsx)("input",{defaultValue:"50",id:"Lightness",max:"100",min:"0",onChange:p,type:"range"})]})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("a",{className:"btn btn--main btn--block",download:"image.png",href:n,onClick:l,children:"Save Image"}),Object(i.jsx)("button",{className:"btn btn--block",onClick:c,type:"button",children:"Clear"})]})]})};var g=()=>{var e;const t=Object(n.useRef)(!1),r=Object(n.useRef)(),c=Object(n.useRef)(!0),s=Object(n.useRef)(0),l=Object(n.useRef)(!1),i=Object(n.useRef)(!1),o=Object(n.useRef)(!0),a=Object(n.useRef)(0),u=Object(n.useRef)(0),d=Object(n.useRef)("#000000"),b=Object(n.useRef)(50),j=Object(n.useRef)(50),h=Object(n.useRef)(100),O=Object(n.useRef)(null===r||void 0===r||null===(e=r.current)||void 0===e?void 0:e.getContext("2d")),[x,g]=Object(n.useState)({currentColor:"#000000",currentWidth:50,isAutoWidth:!1,isEraser:!1,isReady:!1,isRegularMode:!0}),v=e=>!e||!e.current,m=e=>e&&e.current,p=Object(n.useCallback)((e=>{v(O)||(O.current.beginPath(),O.current.moveTo(a.current,u.current),O.current.lineTo(e.offsetX,e.offsetY),O.current.stroke(),[a.current,u.current]=[e.offsetX,e.offsetY])}),[]),f=Object(n.useCallback)((e=>{l.current=!0,[a.current,u.current]=[e.offsetX,e.offsetY]}),[]),C=Object(n.useCallback)((()=>{v(O)||((O.current.lineWidth>90||O.current.lineWidth<10)&&(c.current=!c.current),c.current?O.current.lineWidth++:O.current.lineWidth--,g((e=>({...e,currentWidth:O.current.lineWidth}))))}),[]),w=Object(n.useCallback)((e=>{v(l)||v(O)||(g((e=>{const r={...e};return m(o)||m(i)?(O.current.strokeStyle=d.current,r.currentColor=d.current,t.current&&!i.current?C():O.current.lineWidth=j.current,i.current?O.current.globalCompositeOperation="destination-out":O.current.globalCompositeOperation="source-over"):(r.currentColor=`hsl(${s.current},${h.current}%,${b.current}%)`,O.current.strokeStyle=`hsl(${s.current},${h.current}%,${b.current}%)`,O.current.globalCompositeOperation="source-over",s.current++,s.current>=360&&(s.current=0),t.current?C():O.current.lineWidth=j.current),r})),p(e))}),[p,C]),k=Object(n.useCallback)((()=>{l.current=!1}),[]),N=Object(n.useCallback)((()=>{var e;O.current=null===r||void 0===r||null===(e=r.current)||void 0===e?void 0:e.getContext("2d"),m(r)&&m(O)&&(r.current.addEventListener("mousedown",f),r.current.addEventListener("mousemove",w),r.current.addEventListener("mouseup",k),r.current.addEventListener("mouseout",k),r.current.width=window.innerWidth-196,r.current.height=window.innerHeight,O.current.strokeStyle="#000",O.current.lineJoin="round",O.current.lineCap="round",O.current.lineWidth=10,g((e=>({...e,isReady:!0}))))}),[w,f,k]),R=Object(n.useCallback)((()=>{g((e=>{const t={...e};return t.isRegularMode=!0,i.current=!1,t.isEraser=!1,o.current=!0,t}))}),[]),y=Object(n.useCallback)((()=>{g((e=>{const t={...e};return t.isRegularMode=!1,i.current=!1,t.isEraser=!1,o.current=!1,t}))}),[]),W=Object(n.useCallback)((()=>{v(O)||v(r)||O.current.clearRect(0,0,r.current.width,r.current.height)}),[]);return[{canvas:r,...x},{handleClear:W,handleColor:e=>{g((t=>{const r={...t};return d.current=e.currentTarget.value,r.currentColor=e.currentTarget.value,r}))},handleEraserMode:()=>{g((e=>{const r={...e};return t.current=!1,r.isAutoWidth=!1,r.isRegularMode=!0,r.isEraser=!0,i.current=!0,r}))},handleRegularMode:R,handleSpecialMode:y,handleWidth:e=>{g((t=>{const r={...t};return j.current=e.currentTarget.value,r.currentWidth=e.currentTarget.value,r}))},init:N,setAutoWidth:e=>{g((r=>{var n,c;const s={...r};return t.current=e.currentTarget.checked,s.isAutoWidth=e.currentTarget.checked,s.currentWidth=e.currentTarget.checked&&null!==(n=null===O||void 0===O||null===(c=O.current)||void 0===c?void 0:c.lineWidth)&&void 0!==n?n:j.current,s}))},setCurrentLightness:e=>{g((t=>{const r={...t};return b.current=e.currentTarget.value,r.currentColor=`hsl(${s.current},${h.current}%,${e.currentTarget.value}%)`,r}))},setCurrentSaturation:e=>{g((t=>{const r={...t};return h.current=e.currentTarget.value,r.currentColor=`hsl(${s.current},${e.currentTarget.value}%,${b.current}%)`,r}))}}]};var v=()=>{const[e,t]=Object(n.useState)("#"),[{canvas:r,isReady:c,...s},{init:l,...u}]=g(),d=Object(n.useCallback)((()=>{r&&r.current&&t(r.current.toDataURL("image/png"))}),[r]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(b,{init:l,isReady:c}),Object(i.jsx)(x,{...s,...u,dateUrl:e,handleDownload:d}),Object(i.jsx)(o,{canvasRef:r,width:s.currentWidth}),Object(i.jsx)(a,{})]})};var m=e=>{e&&e instanceof Function&&r.e(3).then(r.bind(null,23)).then((t=>{let{getCLS:r,getFID:n,getFCP:c,getLCP:s,getTTFB:l}=t;r(e),n(e),c(e),s(e),l(e)}))};r(20),r(21);l.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(v,{})}),document.getElementById("root")),m()}},[[22,1,2]]]);
//# sourceMappingURL=main.5a6546bb.chunk.js.map